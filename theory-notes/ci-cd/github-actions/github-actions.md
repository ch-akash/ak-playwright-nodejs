# Integrating GitHub Actions with Playwright

***

> The Framework CI Repo already has the GitHub Actions setup for Playwright. You can refer to the [GitHub Actions File](https://github.com/ch-akash/pw-framework-with-ci/blob/master/.github/workflows/playwright.yml) from the Framework CI Repo.

## Introduction

GitHub Actions is a CI/CD tool that allows you to automate your workflow. It is integrated with GitHub repositories and
can be used to build, test, and deploy your code. In this tutorial, we will learn how to integrate GitHub Actions with
Playwright to run end-to-end tests on a web application.

## Setting up GitHub Actions with Playwright

***
Before you begin, you need to have the following prerequisites:

1. Create a folder at folder root level and name it `.github`.
2. Inside the `.github` folder, create a folder named `workflows`.
3. Inside the `workflows` folder, create a file named `playwright.yml`.
4. Copy the YAML data from next section and paste it in the `playwright.yml` file. You can change the name of the action, add more filtered Playwright test command if required.

We will use the yml file to run tests on Git push and pull requests.

> Read more about GitHub Actions Setting with
> Playwright [here](https://playwright.dev/docs/ci-intro#viewing-the-html-report) for more settings.

## On Push/Pull Request

***

```yaml

name: Playwright Tests
on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
jobs:
  test:
    timeout-minutes: 60
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 18
      - name: Install dependencies
        run: npm ci
      - name: Install Playwright Browsers
        run: npx playwright install --with-deps
      - name: Run Playwright tests
        run: npx playwright test
      - uses: actions/upload-artifact@v4
        if: ${{ !cancelled() }}
        with:
          name: playwright-report
          path: playwright-report/
          retention-days: 30
```

Now once you push your code to the repository, the GitHub Actions will run the Playwright tests. You will be able to see the Github Actions running in the Actions tab of your repository.

## Viewing the HTML Report

***

Once the tests are run, you can view the HTML report by clicking on the `Artifacts` tab in the Actions tab of your GitHub repository. Download the artifact and extract the files. Copy this extracted folder at a location where Playwright is installed and run the following command:

```bash
npx playwright show-report <extracted-folder-name>
```

This will open the HTML report in your default browser.
> Read more here for elaborated steps: [Viewing the HTML Report](https://playwright.dev/docs/ci-intro#viewing-the-html-report)

## Conclusion

***

In this tutorial, we learned how to integrate GitHub Actions with Playwright to run end-to-end tests on a web application. We set up GitHub Actions to run the tests on Git push and pull requests and viewed the HTML report generated by Playwright. This will help you automate your testing workflow and ensure the quality of your web application.

## References

***

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [About GitHub Workflows](https://docs.github.com/en/actions/using-workflows/about-workflows)

***
